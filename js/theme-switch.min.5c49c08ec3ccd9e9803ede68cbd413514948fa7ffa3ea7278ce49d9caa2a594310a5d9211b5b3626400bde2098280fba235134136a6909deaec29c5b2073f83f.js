(function(){"use strict";const t="theme",n="dark",s="light",e={light:{"--theme-bg":"#fff","--theme-color":"#444","--theme-border":"#ddd","--theme-secondary-bg":"#f9f9f9","--theme-code-bg":"#f5f5f5","--theme-link-color":"#2c3e50","--theme-link-hover":"#e74c3c","--theme-muted-color":"#6E7173","--theme-header-border":"#ddd","--theme-nav-current":"#333","--theme-blockquote-color":"#555","--theme-shadow":"rgba(0, 0, 0, 0.1)"},dark:{"--theme-bg":"#1d1d1d","--theme-color":"#ffffff","--theme-border":"#404040","--theme-secondary-bg":"#2a2a2a","--theme-code-bg":"#2d2d2d","--theme-link-color":"#bdc3c7","--theme-link-hover":"#5dade2","--theme-muted-color":"#aaa","--theme-header-border":"#404040","--theme-nav-current":"#ffffff","--theme-blockquote-color":"#bbb","--theme-shadow":"rgba(255, 255, 255, 0.1)"}};try{const t=document.documentElement.getAttribute("data-theme");if(t&&e[t]){const s=document.documentElement,n=e[t];Object.keys(n).forEach(e=>{s.style.setProperty(e,n[e])})}}catch(e){console.warn("Immediate theme application failed:",e)}})(),document.addEventListener("DOMContentLoaded",function(){"use strict";const t="theme",e="dark",n="light",o={light:{"--theme-bg":"#fff","--theme-color":"#444","--theme-border":"#ddd","--theme-secondary-bg":"#f9f9f9","--theme-code-bg":"#f5f5f5","--theme-link-color":"#2c3e50","--theme-link-hover":"#e74c3c","--theme-muted-color":"#6E7173","--theme-header-border":"#ddd","--theme-nav-current":"#333","--theme-blockquote-color":"#555","--theme-shadow":"rgba(0, 0, 0, 0.1)"},dark:{"--theme-bg":"#1d1d1d","--theme-color":"#ffffff","--theme-border":"#404040","--theme-secondary-bg":"#2a2a2a","--theme-code-bg":"#2d2d2d","--theme-link-color":"#bdc3c7","--theme-link-hover":"#5dade2","--theme-muted-color":"#aaa","--theme-header-border":"#404040","--theme-nav-current":"#ffffff","--theme-blockquote-color":"#bbb","--theme-shadow":"rgba(255, 255, 255, 0.1)"}};function s(e){try{document.documentElement.setAttribute("data-theme",e),localStorage.setItem(t,e);const s=document.documentElement,n=o[e];Object.keys(n).forEach(e=>{s.style.setProperty(e,n[e])})}catch(t){console.warn("Theme application failed:",t),document.documentElement.setAttribute("data-theme",e)}}function i(){try{const t=document.documentElement.getAttribute("data-theme"),o=t===e?n:e;s(o)}catch(e){console.warn("Theme toggle failed:",e)}}function a(){try{if(window.matchMedia){const o=window.matchMedia("(prefers-color-scheme: dark)");o.addEventListener&&o.addEventListener("change",function(o){localStorage.getItem(t)||s(o.matches?e:n)})}}catch(e){console.warn("Media query listener setup failed:",e)}}function r(){try{const e=document.createElement("button");e.className="theme-toggle",e.setAttribute("aria-label","Toggle theme"),e.innerHTML=`
                <span class="icon-sun" aria-hidden="true">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="5"></circle>
                    <line x1="12" y1="1" x2="12" y2="3"></line>
                    <line x1="12" y1="21" x2="12" y2="23"></line>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                    <line x1="1" y1="12" x2="3" y2="12"></line>
                    <line x1="21" y1="12" x2="23" y2="12"></line>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                  </svg>
                </span>
                <span class="icon-moon" aria-hidden="true">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                  </svg>
                </span>
            `,e.addEventListener("click",i);const t=document.getElementById("theme-toggle-container");return t?t.appendChild(e):document.body.appendChild(e),e}catch(e){console.warn("Theme toggle button creation failed:",e)}}r(),a()})